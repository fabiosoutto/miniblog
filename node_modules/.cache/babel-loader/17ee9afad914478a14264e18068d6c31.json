{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./Login.module.css';import{useState,useEffect}from'react';import{useAuthentication}from'../../hooks/useAuthentication';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useAuthentication=useAuthentication(),login=_useAuthentication.login,authError=_useAuthentication.error,loading=_useAuthentication.loading;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setError(\"\");user={email:email,password:password};_context.next=5;return login(user);case 5:res=_context.sent;console.log(res);case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(authError){setError(authError);}},[authError]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.login,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Entrar no Blog\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Fa\\xE7a o login para utilizar o sistema!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"Digite seu email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Senha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true,placeholder:\"Digite uma senha\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),!loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Entrar\"}),loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,children:\"Aguarde...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]})]});};export default Login;","map":{"version":3,"names":["styles","useState","useEffect","useAuthentication","Login","email","setEmail","password","setPassword","error","setError","login","authError","loading","handleSubmit","e","preventDefault","user","res","console","log","target","value"],"sources":["C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/src/pages/Login/Login.js"],"sourcesContent":["import styles from './Login.module.css';\r\n\r\nimport { useState, useEffect } from 'react'; \r\nimport { useAuthentication } from '../../hooks/useAuthentication';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const { login, error: authError, loading } = useAuthentication();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setError(\"\");\r\n\r\n    const user = {\r\n      email,\r\n      password,\r\n    };\r\n\r\n    const res = await login(user);\r\n\r\n    console.log(res);\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    if(authError) {\r\n      setError(authError);\r\n    }\r\n\r\n  }, [authError]);\r\n\r\n\r\n  return (\r\n    <div className={styles.login}>\r\n      <h1>Entrar no Blog</h1>\r\n        <p>Fa√ßa o login para utilizar o sistema!</p>\r\n        <form onSubmit={handleSubmit}>\r\n          <label>\r\n            <span>Email:</span>\r\n              <input \r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder='Digite seu email' \r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n          </label>\r\n          <label>\r\n            <span>Senha:</span>\r\n              <input \r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder='Digite uma senha'\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)} \r\n              />\r\n          </label>\r\n          {!loading && <button className='btn'>Entrar</button>}\r\n          {loading && <button className='btn' disabled>Aguarde...</button>}\r\n          {error && <p className='error'>{error}</p> }\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"0hBAAA,MAAOA,OAAP,KAAmB,oBAAnB,CAEA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,iBAAT,KAAkC,+BAAlC,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eAEA,uBAA6CP,iBAAiB,EAA9D,CAAQQ,KAAR,oBAAQA,KAAR,CAAsBC,SAAtB,oBAAeH,KAAf,CAAiCI,OAAjC,oBAAiCA,OAAjC,CAEA,GAAMC,aAAY,4FAAG,iBAAOC,CAAP,iIACnBA,CAAC,CAACC,cAAF,GAEAN,QAAQ,CAAC,EAAD,CAAR,CAEMO,IALa,CAKN,CACXZ,KAAK,CAALA,KADW,CAEXE,QAAQ,CAARA,QAFW,CALM,uBAUDI,MAAK,CAACM,IAAD,CAVJ,QAUbC,GAVa,eAYnBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAZmB,sDAAH,kBAAZJ,aAAY,4CAAlB,CAeAZ,SAAS,CAAC,UAAM,CAEd,GAAGU,SAAH,CAAc,CACZF,QAAQ,CAACE,SAAD,CAAR,CACD,CAEF,CANQ,CAMN,CAACA,SAAD,CANM,CAAT,CASA,mBACE,aAAK,SAAS,CAAEZ,MAAM,CAACW,KAAvB,wBACE,sCADF,cAEI,+DAFJ,cAGI,cAAM,QAAQ,CAAEG,YAAhB,wBACE,sCACE,gCADF,cAEI,cACA,IAAI,CAAC,OADL,CAEA,IAAI,CAAC,OAFL,CAGA,QAAQ,KAHR,CAIA,WAAW,CAAC,kBAJZ,CAKA,KAAK,CAAET,KALP,CAMA,QAAQ,CAAE,kBAACU,CAAD,QAAOT,SAAQ,CAACS,CAAC,CAACM,MAAF,CAASC,KAAV,CAAf,EANV,EAFJ,GADF,cAYE,sCACE,gCADF,cAEI,cACA,IAAI,CAAC,UADL,CAEA,IAAI,CAAC,UAFL,CAGA,QAAQ,KAHR,CAIA,WAAW,CAAC,kBAJZ,CAKA,KAAK,CAAEf,QALP,CAMA,QAAQ,CAAE,kBAACQ,CAAD,QAAOP,YAAW,CAACO,CAAC,CAACM,MAAF,CAASC,KAAV,CAAlB,EANV,EAFJ,GAZF,CAuBG,CAACT,OAAD,eAAY,eAAQ,SAAS,CAAC,KAAlB,oBAvBf,CAwBGA,OAAO,eAAI,eAAQ,SAAS,CAAC,KAAlB,CAAwB,QAAQ,KAAhC,wBAxBd,CAyBGJ,KAAK,eAAI,UAAG,SAAS,CAAC,OAAb,UAAsBA,KAAtB,EAzBZ,GAHJ,GADF,CAiCD,CAhED,CAkEA,cAAeL,MAAf"},"metadata":{},"sourceType":"module"}