{"ast":null,"code":"import styles from\"./Dashboard.module.css\";import{Link}from\"react-router-dom\";//Hooks\nimport{useAuthValue}from\"../../context/AuthContext\";import{useFetchDocuments}from\"../../hooks/useFetchDocuments\";import{useDeleteDocument}from\"../../hooks/useDeleteDocument\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useAuthValue=useAuthValue(),user=_useAuthValue.user;var uid=user.uid;var _useFetchDocuments=useFetchDocuments(\"posts\",null,uid),posts=_useFetchDocuments.documents;var _useDeleteDocument=useDeleteDocument(\"posts\"),deleteDocument=_useDeleteDocument.deleteDocument;console.log(uid);console.log(posts);return/*#__PURE__*/_jsxs(\"div\",{className:styles.dashboard,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Gerencie os seus posts\"}),posts&&posts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:styles.noposts,children:[/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o foram encontrados posts\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/create\",className:\"btn\",children:\"Criar primeiro post\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.post_header,children:[/*#__PURE__*/_jsx(\"span\",{children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\\xE7\\xF5es\"})]}),posts&&posts.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{className:styles.post_row,children:[/*#__PURE__*/_jsx(\"p\",{children:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:styles.actions,children:[/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(post.id),className:\"btn btn-outline\",children:\"Ver\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/edit/\".concat(post.id),className:\"btn btn-outline\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteDocument(post.id);},className:\"btn btn-outline btn-danger\",children:\"Excluir\"})]})]},post.id);})]});};export default Dashboard;","map":{"version":3,"names":["styles","Link","useAuthValue","useFetchDocuments","useDeleteDocument","Dashboard","user","uid","posts","documents","deleteDocument","console","log","dashboard","length","noposts","post_header","map","post","post_row","title","actions","id"],"sources":["C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/src/pages/Dashboard/Dashboard.js"],"sourcesContent":["import styles from \"./Dashboard.module.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//Hooks\r\nimport { useAuthValue } from \"../../context/AuthContext\";\r\nimport { useFetchDocuments } from \"../../hooks/useFetchDocuments\";\r\nimport { useDeleteDocument } from \"../../hooks/useDeleteDocument\";\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useAuthValue();\r\n  const uid = user.uid;\r\n\r\n  const { documents: posts } = useFetchDocuments(\"posts\", null, uid);\r\n\r\n  const { deleteDocument } = useDeleteDocument(\"posts\");\r\n\r\n  console.log(uid);\r\n  console.log(posts);\r\n\r\n  return (\r\n    <div className={styles.dashboard}>\r\n      <h2>Dashboard</h2>\r\n      <p>Gerencie os seus posts</p>\r\n      {posts && posts.length === 0 ? (\r\n        <div className={styles.noposts}>\r\n          <p>Não foram encontrados posts</p>\r\n          <Link to=\"/posts/create\" className=\"btn\">\r\n            Criar primeiro post\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.post_header}>\r\n          <span>Título</span>\r\n          <span>Ações</span>\r\n        </div>\r\n      )}\r\n          {posts &&\r\n        posts.map((post) => (\r\n          <div className={styles.post_row} key={post.id}>\r\n            <p>{post.title}</p>\r\n            <div className={styles.actions}>\r\n              <Link to={`/posts/${post.id}`} className=\"btn btn-outline\">\r\n                Ver\r\n              </Link>\r\n              <Link to={`/posts/edit/${post.id}`} className=\"btn btn-outline\">\r\n                Editar\r\n              </Link>\r\n              <button\r\n                onClick={() => deleteDocument(post.id)}\r\n                className=\"btn btn-outline btn-danger\"\r\n              >\r\n                Excluir\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"AAAA,MAAOA,OAAP,KAAmB,wBAAnB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CAEA;AACA,OAASC,YAAT,KAA6B,2BAA7B,CACA,OAASC,iBAAT,KAAkC,+BAAlC,CACA,OAASC,iBAAT,KAAkC,+BAAlC,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,kBAAiBH,YAAY,EAA7B,CAAQI,IAAR,eAAQA,IAAR,CACA,GAAMC,IAAG,CAAGD,IAAI,CAACC,GAAjB,CAEA,uBAA6BJ,iBAAiB,CAAC,OAAD,CAAU,IAAV,CAAgBI,GAAhB,CAA9C,CAAmBC,KAAnB,oBAAQC,SAAR,CAEA,uBAA2BL,iBAAiB,CAAC,OAAD,CAA5C,CAAQM,cAAR,oBAAQA,cAAR,CAEAC,OAAO,CAACC,GAAR,CAAYL,GAAZ,EACAI,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAEA,mBACE,aAAK,SAAS,CAAER,MAAM,CAACa,SAAvB,wBACE,iCADF,cAEE,6CAFF,CAGGL,KAAK,EAAIA,KAAK,CAACM,MAAN,GAAiB,CAA1B,cACC,aAAK,SAAS,CAAEd,MAAM,CAACe,OAAvB,wBACE,qDADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,eAAT,CAAyB,SAAS,CAAC,KAAnC,iCAFF,GADD,cAQC,aAAK,SAAS,CAAEf,MAAM,CAACgB,WAAvB,wBACE,mCADF,cAEE,qCAFF,GAXJ,CAgBOR,KAAK,EACRA,KAAK,CAACS,GAAN,CAAU,SAACC,IAAD,qBACR,aAAK,SAAS,CAAElB,MAAM,CAACmB,QAAvB,wBACE,mBAAID,IAAI,CAACE,KAAT,EADF,cAEE,aAAK,SAAS,CAAEpB,MAAM,CAACqB,OAAvB,wBACE,KAAC,IAAD,EAAM,EAAE,kBAAYH,IAAI,CAACI,EAAjB,CAAR,CAA+B,SAAS,CAAC,iBAAzC,iBADF,cAIE,KAAC,IAAD,EAAM,EAAE,uBAAiBJ,IAAI,CAACI,EAAtB,CAAR,CAAoC,SAAS,CAAC,iBAA9C,oBAJF,cAOE,eACE,OAAO,CAAE,yBAAMZ,eAAc,CAACQ,IAAI,CAACI,EAAN,CAApB,EADX,CAEE,SAAS,CAAC,4BAFZ,qBAPF,GAFF,GAAsCJ,IAAI,CAACI,EAA3C,CADQ,EAAV,CAjBJ,GADF,CAuCD,CAlDD,CAoDA,cAAejB,UAAf"},"metadata":{},"sourceType":"module"}