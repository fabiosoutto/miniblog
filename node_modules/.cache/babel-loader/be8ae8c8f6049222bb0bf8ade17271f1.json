{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./Register.module.css';import{useState,useEffect}from'react';import{useAuthentication}from'../../hooks/useAuthentication';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),displayName=_useState2[0],setDisplayName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useAuthentication=useAuthentication(),createUser=_useAuthentication.createUser,authError=_useAuthentication.error,loading=_useAuthentication.loading;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setError(\"\");user={displayName:displayName,email:email,password:password};if(!(password!==confirmPassword)){_context.next=6;break;}setError(\"As senhas precisam ser iguais!\");return _context.abrupt(\"return\");case 6:;_context.next=9;return createUser(user);case 9:res=_context.sent;console.log(res);case 11:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(authError){setError(authError);}},[authError]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.register,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Cadastre-se no Blog\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Crie sua conta e compartilhe suas hist\\xF3rias!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nome:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"displayName\",required:true,placeholder:\"Digite seu nome\",value:displayName,onChange:function onChange(e){return setDisplayName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"Digite seu email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Senha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true,placeholder:\"Digite uma senha\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Confirma\\xE7\\xE3o de Senha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",required:true,placeholder:\"Confirme sua senha\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),!loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Cadastrar\"}),loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,children:\"Aguarde...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]})]});};export default Register;","map":{"version":3,"names":["styles","useState","useEffect","useAuthentication","Register","displayName","setDisplayName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","createUser","authError","loading","handleSubmit","e","preventDefault","user","res","console","log","register","target","value"],"sources":["C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/src/pages/Register/Register.js"],"sourcesContent":["import styles from './Register.module.css';\r\n\r\nimport { useState, useEffect } from 'react'; \r\nimport { useAuthentication } from '../../hooks/useAuthentication';\r\n\r\nconst Register = () => {\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const { createUser, error: authError, loading } = useAuthentication();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setError(\"\");\r\n\r\n    const user = {\r\n      displayName,\r\n      email,\r\n      password\r\n    };\r\n\r\n    if(password !== confirmPassword) {\r\n      setError(\"As senhas precisam ser iguais!\")\r\n      return\r\n    };\r\n\r\n    const res = await createUser(user);\r\n\r\n    console.log(res);\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    if(authError) {\r\n      setError(authError);\r\n    }\r\n\r\n  }, [authError]);\r\n\r\n  return (\r\n    <div className={styles.register}>\r\n        <h1>Cadastre-se no Blog</h1>\r\n        <p>Crie sua conta e compartilhe suas histórias!</p>\r\n        <form onSubmit={handleSubmit}>\r\n          <label>\r\n            <span>Nome:</span>\r\n              <input \r\n              type=\"text\"\r\n              name=\"displayName\"\r\n              required\r\n              placeholder='Digite seu nome'\r\n              value={displayName}\r\n              onChange={(e) => setDisplayName(e.target.value)}\r\n              />\r\n          </label>\r\n          <label>\r\n            <span>Email:</span>\r\n              <input \r\n              type=\"email\"\r\n              name=\"email\"\r\n              required\r\n              placeholder='Digite seu email' \r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n          </label>\r\n          <label>\r\n            <span>Senha:</span>\r\n              <input \r\n              type=\"password\"\r\n              name=\"password\"\r\n              required\r\n              placeholder='Digite uma senha'\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)} \r\n              />\r\n          </label>\r\n          <label>\r\n            <span>Confirmação de Senha:</span>\r\n              <input \r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              required\r\n              placeholder='Confirme sua senha' \r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              />\r\n          </label>\r\n          {!loading && <button className='btn'>Cadastrar</button>}\r\n          {loading && <button className='btn' disabled>Aguarde...</button>}\r\n          {error && <p className='error'>{error}</p> }\r\n        </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}