{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//CSS\nimport styles from'./Home.module.css';//Hooks\nimport{useNavigate,Link}from'react-router-dom';import{useState}from'react';import{useFetchDocuments}from'../../hooks/useFetchDocuments';//Components\nimport PostDetail from'../../components/PostDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useFetchDocuments=useFetchDocuments(\"posts\"),posts=_useFetchDocuments.documents,loading=_useFetchDocuments.loading;var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();//search\nif(query){return navigate(\"/search?q=\".concat(query));}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.home,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Veja nossos posts mais recentes\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:styles.search_form,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ou fa\\xE7a uma pesquisa...\",onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:\"Pesquisar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-list\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"}),posts&&posts.map(function(post){return/*#__PURE__*/_jsx(PostDetail,{post:post},post.id);}),posts&&posts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:styles.noposts,children:[/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o foram encontrados posts\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/create\",className:\"btn\",children:\"Criar post\"})]})]})]});};export default Home;","map":{"version":3,"names":["styles","useNavigate","Link","useState","useFetchDocuments","PostDetail","Home","query","setQuery","posts","documents","loading","navigate","handleSubmit","e","preventDefault","home","search_form","target","value","map","post","id","length","noposts"],"sources":["C:/xampp/htdocs/Curso ReactJS/Curso ReactJS - Matheus Battisti/Projetos ReactJS/miniblog/src/pages/Home/Home.js"],"sourcesContent":["//CSS\r\nimport styles from './Home.module.css';\r\n\r\n//Hooks\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useFetchDocuments } from '../../hooks/useFetchDocuments';\r\n\r\n\r\n//Components\r\nimport PostDetail from '../../components/PostDetail';\r\n\r\nconst Home = () => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const { documents: posts, loading } = useFetchDocuments(\"posts\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    //search\r\n    if (query) {\r\n      return navigate(`/search?q=${query}`);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={styles.home}>\r\n        <h1>Veja nossos posts mais recentes</h1>\r\n        <form onSubmit={handleSubmit} className={styles.search_form}>\r\n          <input type=\"text\" placeholder=\"Ou faça uma pesquisa...\"\r\n          onChange={(e) => setQuery(e.target.value)} />\r\n          <button className=\"btn btn-dark\" >Pesquisar</button>\r\n        </form>\r\n        <div className=\"post-list\">\r\n          {loading && <p>Carregando...</p>}\r\n          {posts && posts.map((post) => <PostDetail key={post.id} post={post} />)}\r\n          {posts && posts.length === 0 && (\r\n            <div className={styles.noposts}>\r\n              <p>Não foram encontrados posts</p>\r\n              <Link to=\"/posts/create\" className=\"btn\">Criar post</Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"8KAAA;AACA,MAAOA,OAAP,KAAmB,mBAAnB,CAEA;AACA,OAASC,WAAT,CAAsBC,IAAtB,KAAkC,kBAAlC,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,iBAAT,KAAkC,+BAAlC,CAGA;AACA,MAAOC,WAAP,KAAuB,6BAAvB,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,uBAAsCJ,iBAAiB,CAAC,OAAD,CAAvD,CAAmBK,KAAnB,oBAAQC,SAAR,CAA0BC,OAA1B,oBAA0BA,OAA1B,CAEA,GAAMC,SAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GAEA;AACA,GAAIR,KAAJ,CAAW,CACT,MAAOK,SAAQ,qBAAcL,KAAd,EAAf,CACD,CACF,CAPD,CAUA,mBACE,aAAK,SAAS,CAAEP,MAAM,CAACgB,IAAvB,wBACI,uDADJ,cAEI,cAAM,QAAQ,CAAEH,YAAhB,CAA8B,SAAS,CAAEb,MAAM,CAACiB,WAAhD,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,4BAA/B,CACA,QAAQ,CAAE,kBAACH,CAAD,QAAON,SAAQ,CAACM,CAAC,CAACI,MAAF,CAASC,KAAV,CAAf,EADV,EADF,cAGE,eAAQ,SAAS,CAAC,cAAlB,uBAHF,GAFJ,cAOI,aAAK,SAAS,CAAC,WAAf,WACGR,OAAO,eAAI,oCADd,CAEGF,KAAK,EAAIA,KAAK,CAACW,GAAN,CAAU,SAACC,IAAD,qBAAU,KAAC,UAAD,EAA0B,IAAI,CAAEA,IAAhC,EAAiBA,IAAI,CAACC,EAAtB,CAAV,EAAV,CAFZ,CAGGb,KAAK,EAAIA,KAAK,CAACc,MAAN,GAAiB,CAA1B,eACC,aAAK,SAAS,CAAEvB,MAAM,CAACwB,OAAvB,wBACE,qDADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,eAAT,CAAyB,SAAS,CAAC,KAAnC,wBAFF,GAJJ,GAPJ,GADF,CAoBD,CApCD,CAsCA,cAAelB,KAAf"},"metadata":{},"sourceType":"module"}